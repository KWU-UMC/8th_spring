# 의존성 주입(Dependency Injection)

스프링에서 의존성 주입은 객체 Bean을 미리 생성해두고 생성한 객체를 지정한 객체에 주입해주는 것을 이야기한다.

항상 객체와 객체의 연결관계는 “느슨한” 것이 좋다. 그 이유는 강력하게 서로를 연결하게 되면 유지보수를 하는 상황에서 경직되기 때문이다. 유지보수가 어렵게 되면 당장의 개발은 둘째치고 프로젝트의 확장과 수정이 모두 어렵게 된다.

객체와 객체간의 연결관계를 외부에서 주입하게 되면 유지보수에 조금 더 용이하다. 단순히 필요한 객체를 argument에서 교체를 통해 변경이 가능하게 된다.

스프링에서는 빈 팩토리를 통해 객체들을 등록하게 되는데, 이때 객체를 생성하면서 외부에서 주입하는 연결관계를 맺게 된다. 이는 개발자가 직접 객체를 생성하지 않아도 되어 편의성을 증대시킨다.

## 의존성 주입 방식

- 생성자
- setter
- 필드

이 중 생성자 주입을 가장 많이 사용하곤 하는데, 그 이유는 아래와 같다.

1. 객체의 불변성
2. 테스트의 용이성
3. 컴파일 에러 발생

생성자 주입은 객체를 생성 당시에 주입을 하기 때문에 객체의 불변성을 보장하게 된다. 또한 원한다면 mock 객체를 주입시키면 되기 때문에 테스트 상황에도 굉장히 용이하다.

가장 좋은 에러는 컴파일 에러라고 한다. 런타임 에러는 개발자가 놓치고 있다가 작동 당시에 발생할 수 있기 때문인데, 생성자 주입이 이러한 경우에도 나머지 두 방식보다 좋은 방식이라고 할 수 있다. 순환 참조나 잘못된 객체를 주입할 경우에는 컴파일 에러를 발생시키기 때문에 보다 빠른 수정이 가능하다.
# 제어 역전( Inversion of Control)

객체의 생성과 생명주기는 보통 개발자에 의해 결정이된다. 하지만 스프링에서는 컨테이너가 이를 관리하기 때문에 제어의 역전이라고 한다. 이 또한 개발자가 직접 행사해야할 업무를 줄여주는 역할을 하기 때문에 편의의 역할을 한다.

참고로 빈의 라이프 사이클은 아래와 같다.

스프링 컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 -> 사용 -> 소멸 전 콜백 -> 스프링 종료.

# 프레임워크와 API의 차이

프레임워크와 API의 가장 큰 차이는 **제어권이 누구에게 있는가**이다.

프레임워크는 제어 흐름이 **프레임워크에게 있고**,

API는 제어 흐름이 **개발자에게 있다.**

다시 말해, **프레임워크는 강제된 가이드라인**,

API는 **개발자가 필요한 순간 꺼내 쓰는 도구**라고 보면 된다.

# AOP

객체지향프로그래밍(oop)는 모든 데이터를 하나의 실생활 속 객체로 빗대어 다루는 기법이다. 여기서 aop는oop에서 발전된 개념으로, 관심사를 분리하여 모듈화하는 프로그래밍의 패러다임이다. 객체지향 프로그래밍(OOP)은 실생활의 객체처럼 데이터를 캡슐화하여 다루지만, **로그 처리, 보안, 트랜잭션 관리 같은 횡단 관심사(Cross-Cutting Concerns)**는 여러 클래스에 반복적으로 나타나는 공통 기능이기 때문에 코드 중복과 유지보수의 어려움을 유발할 수 있다.

**AOP는 이러한 횡단 관심사를 핵심 로직과 분리해서**, 따로 구현하고, 필요한 지점(메서드 실행 전/후 등)에 **자동으로 적용할 수 있도록 해주는 기법**이다.

# 서블릿

서블릿(Servlet)은 자바 기반 웹 애플리케이션에서 클라이언트로부터 들어온 요청을 받아 처리하고, 그 결과를 다시 응답으로 반환하는 서버 측 프로그램이다. 본래 웹 서버는 정적인 HTML 파일만 제공할 수 있었지만, 서블릿을 사용하면 동적인 데이터 처리와 응답이 가능해진다. 클라이언트가 보낸 요청은 서블릿 컨테이너에 의해 서블릿 객체로 전달되며, 일반적으로 `doGet()`, `doPost()` 등의 메서드를 통해 요청 방식에 따라 로직을 분기 처리한다. 이러한 서블릿은 웹 애플리케이션의 핵심 기반으로 동작하며, Spring과 같은 웹 프레임워크 역시 서블릿 위에서 동작하도록 설계되어 있다.