 #  μ‹¤μµ κΈ°λ΅

  λ””λ ‰ν† λ¦¬λ” λ‹¤μκ³Ό κ°™μ΄ μ„¤μ •ν–λ‹¤.

  ![directory1](directory1.png)

  ![directory2](directory2.png)

  /temt/test κ²½λ΅λ΅ GET μ”μ²­ν–μ„ λ•, λ‹¤μκ³Ό κ°™μ€ μ‘λ‹µμ΄ λ‚νƒ€λ‚λ‹¤.

  ![test](test.png)

  /temp/exception κ²½λ΅λ΅ GET μ”μ²­ν–μ„ λ•, flagμ— λ”°λΌ λ‹¤μκ³Ό κ°™μ€ μ‘λ‹µμ΄ λ‚νƒ€λ‚λ‹¤.

  ![exception1](exception1.png)

  ![exception2](exception2.png)


# RestControllerAdvice
    
## μ¥μ  λ° λ―Έμ‚¬μ© μ‹ λ¶νΈν• μ 
        
### β…μ¥μ 
        
1. μ¤‘μ•™ μ§‘μ¤‘μ‹ μμ™Έ μ²λ¦¬
    - λ¨λ“  μ»¨νΈλ΅¤λ¬μ μμ™Έλ¥Ό λ‹¨μΌ ν΄λμ¤μ—μ„ κ΄€λ¦¬
                
        β†’ μ½”λ“ μ¤‘λ³µ μ κ±° λ° μ μ§€λ³΄μμ„± ν–¥μƒ
                
    - μΌκ΄€λ μ—λ¬ μ‘λ‹µ κµ¬μ΅°
                
        β†’ ν΄λΌμ΄μ–ΈνΈκ°€ μμΈ΅ κ°€λ¥ν• ν•μ‹μΌλ΅ μ—λ¬ μμ‹ 
                
2. REST API μµμ ν™”
    - `@ResponseBody`κ°€ λ‚΄μ¥λμ–΄ μ—λ¬ μ‘λ‹µμ„ μλ™μΌλ΅ JSON/XMLλ΅ λ³€ν™
                
        β†’ λ³„λ„μ View Resolver μ„¤μ • ν•„μ” X
                
    - HTTP μƒνƒ μ½”λ“μ™€ μ»¤μ¤ν…€ μ½”λ“ λ¶„λ¦¬
                
        μ: `400 BAD_REQUEST` + `"code": "MEMBER4001"`
                
3. ν™•μ¥μ„±κ³Ό μ μ—°μ„±
    - μμ™Έ μ ν•λ³„ μ„Έλ¶„ν™”λ μ²λ¦¬
                
        β†’ `@ExceptionHandler` λ΅ νΉμ • μμ™Έμ— λ€ν• λ΅μ§ λ¶„λ¦¬
                
    - λ„λ©”μΈλ³„ μ»¤μ¤ν…€ μμ™Έ μ¶”κ°€ μ©μ΄
                
        μ: `GeneralException`, `ValidationException` 
                
4. ν‘μ—… ν¨μ¨μ„±
    - ν”„λ΅ νΈμ—”λ“μ™€μ μ•½μ†λ μ—λ¬ κ·μ•½ μ μ§€
                
        β†’ μ—λ¬ μ½”λ“, λ©”μ‹μ§€, ν¬λ§· ν†µμΌ
                
    - λ””λ²„κΉ… μ •λ³΄ ν†µν•©
                
        β†’ λ΅κΉ…, μ¤νƒ νΈλ μ΄μ¤ λ“±μ„ μ‘λ‹µμ— ν¬ν•¨ κ°€λ¥
                
        
### π± λ―Έμ‚¬μ© μ‹ λ¶νΈν• μ 
        
1. μ½”λ“ μ¤‘λ³µ λ° μ μ§€λ³΄μ μ–΄λ ¤μ›€
            
    ```java
    // μ»¨νΈλ΅¤λ¬λ§λ‹¤ try-catch λ°λ³µ
    @RestController
    public class MemberController {
        @PostMapping
        public ResponseEntity<String> createMember() {
            try {
                // λΉ„μ¦λ‹μ¤ λ΅μ§
            } catch (ValidationException e) {
                return ResponseEntity.badRequest().body(e.getMessage()); // λ§¤λ² μλ™ μ²λ¦¬
            }
        }
    }
            
    ```
            
    - λ™μΌν• μμ™Έ μ²λ¦¬ μ½”λ“κ°€ λ¨λ“  μ»¨νΈλ΅¤λ¬μ— λ°λ³µλ¨
2. μ‘λ‹µ ν•μ‹ λ¶μΌμΉ
    - μ»¨νΈλ΅¤λ¬λ³„λ΅ λ‹¤λ¥Έ μ—λ¬ ν¬λ§·
                
        μ: μΌλ¶€λ” `{ "error": "msg" }`, λ‹¤λ¥Έ κ³³μ€ `{ β€codeβ€: 400 }`
                
3. μλ™ μ‘λ‹µ λ³€ν™ ν•„μ”
    - `ResponseBody` λ„λ½ μ‹ λ·° μ΄λ¦„μ„ μ°Ύμ•„ 404 μ—λ¬ λ°μƒ
                
        μ: `return "errorPage";` β†’ ν΄λΌμ΄μ–ΈνΈκ°€ HTML μμ‹ 
                
4. μμ™Έ μ²λ¦¬ λ„λ½ μ„ν—
    - νΉμ • μ»¨νΈλ΅¤λ¬μ—μ„ μμ™Έ ν•Έλ“¤λ¬λ¥Ό λΉΌλ¨Ήμ„ κ²½μ°
                
        β†’ ν΄λΌμ΄μ–ΈνΈμ— raw μ¤νƒ νΈλ μ΄μ¤ λ…Έμ¶
                
        
### π‘‰ μ‚¬μ© vs λ―Έμ‚¬μ© λΉ„κµ
        
| **κµ¬λ¶„** | **@RestControllerAdvice μ‚¬μ©** | **λ―Έμ‚¬μ©** |
    | --- | --- | --- |
    | **μ½”λ“ μ¤‘λ³µ** | μ „μ—­ μ²λ¦¬λ΅ μ¤‘λ³µ μ—†μ | μ»¨νΈλ΅¤λ¬λ§λ‹¤ try-catch λ°λ³µ |
    | **μ‘λ‹µ ν•μ‹** | μΌκ΄€λ JSON/XML μ‘λ‹µ μλ™ μƒμ„± | κ°λ°μλ³„λ΅ λ‹¤λ¥Έ ν•μ‹ μ‚¬μ© κ°€λ¥μ„± λ†’μ |
    | **μ μ§€λ³΄μ** | μμ™Έ μ²λ¦¬ λ΅μ§ μμ •μ΄ ν• κ³³μ—μ„ κ°€λ¥ | λ¨λ“  μ»¨νΈλ΅¤λ¬λ¥Ό μμ •ν•΄μ•Ό ν•¨ |
    | **μ—λ¬ λ…Έμ¶ μ„ν—** | μ²λ¦¬λμ§€ μ•μ€ μμ™Έ μλ™ μΊμΉ | λ―Έμ²λ¦¬ μμ™Έλ΅ μΈν• λ³΄μ• μ·¨μ•½μ  λ°μƒ κ°€λ¥ |
    | **REST μµμ ν™”** | **`@ResponseBody`**Β λ‚΄μ¥μΌλ΅ λ³„λ„ μ„¤μ • λ¶ν•„μ” | κ° λ©”μ„λ“μ—Β **`@ResponseBody`**Β μ¶”κ°€ ν•„μ” |
    
# λ―Έμ… λ©λ΅ μ΅°ν(μ§„ν–‰μ¤‘, μ§„ν–‰μ™„λ£) API λ…μ„Έμ„
    
| API Endpoint | GET /missions?state=STATE |
    | --- | --- |
    | Request Body | X |
    | Request Header | Authorization: Bearer {accessToken} |
    | Query String | ?state=STATE(μ§„ν–‰μ¤‘/μ§„ν–‰μ™„λ£) |
    | Path Variable | X |


> **github λ§ν¬**
>
>
> https://github.com/kjhyeon0620/umc8th/tree/week7
>